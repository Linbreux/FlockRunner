project: "FlockRunner"

variables:
  greeting: "Hello from FlockRunner!"
  user: "Flock user"
  os: fedora

shell:
  docker-shell: docker run {{os}} sh -c
  zsh: zsh -c

commands:
  # basic usage
  hello:
    cmd: echo hello {{user}}
    alias: "h"
    # type: "default"

  time:
    cmd: date

  clean:
    help: "cleanup"
    keep_going: true
    cmd:
      - rm -r flock && echo removed!

  create:
    help: "create a text file inside a flock folder"
    cmd:
      - echo "creating folder"
      - mkdir flock # if the folder already exists, fr will terminate. See 'keep_going' option.
      - echo "new textfile" > flock/test.txt && echo created textfile
      - echo "done running, bye {{user}}"

  greet_date:
    cmd: echo "{{greeting}}" && date && exit 1

  os_fedora:
    help: run a command on fedora
    shell: docker-shell
    variables:
      os: "fedora"
    cmd: 
      - cat /etc/os-release
      - echo == Ran from {{os}} ==

  os_ubuntu:
    help: run a command on fedora
    shell: docker-shell
    variables:
      os: "ubuntu"
    cmd: 
      - cat /etc/os-release
      - echo == Ran from {{os}} ==

sequence:
  # fr seq tell-time
  tell-time:
    - hello
    - time
